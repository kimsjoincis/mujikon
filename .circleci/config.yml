version: 2.1

orbs:
  win: circleci/windows@2.2.0

workflows:
  sample:
    jobs:
      - build-and-test
jobs:
  build-and-test:  
    executor:
      name: win/default
      shell: powershell.exe
    machine:
      image: windows-default
    working_directory: ~/repo
    steps:
      - checkout
      - run:
          name: install update
          command: 
            sudo apt-get update && sudo apt-get upgrade -y
      - run:
          name: test work or not code
          command: 
            ./run
          no_output_timeout: 290m
